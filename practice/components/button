import { reactnode } from "react";
import { stylesheet, viewstyle } from "react-native";

//тип пропсов для кнопки
type buttonprops = {
  children: reactnode; //содержимое кнопки
  onpress: () => void; //функция при нажатии
  style?: viewstyle; //дополнительные стили
  type?: "primary" | "secondary" | "danger"; //тип кнопки
}

//основной компонент кнопки
export default function button({ children, onpress, style, type = "primary" }: buttonprops) {
  return (
    <pressable
      onpress={onpress}
      style={({ pressed }) => [ //динамические стили при нажатии
        styles.base,
        styles[type], //стиль по типу кнопки
        style,
        pressed && styles.pressed //эффект при нажатии
      ]}
    >
      {children}
    </pressable>
  )
}

//стили для кнопок
const styles = stylesheet.create({
  base: { //базовые стили
    paddingvertical: 14,
    paddinghorizontal: 18,
    borderradius: 12,
    alignitems: "center",
    justifycontent: "center",
    marginvertical: 6,
  },
  pressed: { //эффект при нажатии
    opacity: 0.8,
    transform: [{ scale: 0.98 }],
  },
  primary: { backgroundcolor: "#4e8cff" }, //основная кнопка
  secondary: { backgroundcolor: "#777" }, //вторичная кнопка
  danger: { backgroundcolor: "#ff6363" }, //опасная кнопка
});